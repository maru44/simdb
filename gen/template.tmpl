// Code generated by "github.com/maru44/simdb/gen"; DO NOT EDIT.

package {{ $.PackageName }}

type (
    {{ $.Name }} struct {
        {{ range $c := $.Columns -}}
        {{ if not $c.IsPrimaryKey }} {{ $c.Name }} {{ $c.Type }} {{ end }}
    {{ end -}}

    {{ $.Name }}s map[ {{ $.PrimaryKeyType }} ]{{ $.Name }}
}

)

func Init{{ $.Name }}() {{ $.Name }}s {
    return map[ {{ $.PrimaryKeyType }} ]{{ $.Name }}{}
}

func (t *{{ $.Name }}s) Get(id {{ $.PrimaryKeyType }} ) ({{ $.Name }}, error) {
    v, ok := t[id]
    if !ok {
        return 0, errors.New("Not Exists)
    }
    return v, nil
}

func (t *{{ $.Name }}s) Create(id {{ $.PrimaryKeyType }}, value {{ $.Name }} ) error {
    v, ok := t[id]
    if ok {
        return errors.New("Already Exists")
    }
    v[id] = value
    return nil
}
